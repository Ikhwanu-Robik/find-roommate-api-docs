<!DOCTYPE html>
<html data-theme="">
<head>
  <title>OpenAPI Docs</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20,400,0,0&icon_names=search" />
  <link rel="stylesheet" href="https://unpkg.com/@stoplight/elements/styles.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@10.2.9/dist/css/autoComplete.02.min.css">
  <script src="https://unpkg.com/@stoplight/elements/web-components.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tarekraafat/autocomplete.js@10.2.9/dist/autoComplete.min.js"></script>
  <style>#search-button {
  position: fixed;
  top: 28px;
  right: 28px;
  z-index: 10;
  display: flex;
  align-items: center;
  background-color: #fff;
  border-radius: 4px;
  border: 1px solid #d9d9d9;
  padding: 4px 12px 4px 8px;
  cursor: pointer;

  .icon {
    font-size: 18px;
    margin-right: 4px;
  }
}

#search-dialog {
  position: fixed;
  top: 10px;
  margin: 0 auto;
  height: 100%;
  background: transparent;
  border: none;

  .auto-complete-list {
    max-height: 265px;
  }
}

#auto-complete {
  background-color: #fff;
}

.auto-complete-list {
  .auto-complete-list-item {
    display: flex;
    align-items: center;
    gap: 10px;
    padding: 8px 12px;
    cursor: pointer;
    border-bottom: 1px solid #f0f0f0;
    border-radius: 0;
  }
}

.method-tag {
  display: inline-block;
  padding: 2px 0;
  border-radius: 4px;
  font-size: 11px;
  color: #fff;
  min-width: 54px;
  text-align: center;
  flex-shrink: 0;
}

.endpoint-info {
  display: flex;
  flex-direction: column;
  flex: 1;
  word-break: break-all;
  overflow-wrap: break-word;
  white-space: normal;
}

.endpoint-path {
  font-size: 13px;
}

.endpoint-summary {
  font-size: 11px;
  color: #666;
}

[data-theme=dark] {
  #search-dialog::backdrop {
    background-color: rgba(255, 255, 255, 0.1);
  }

  #search-button {
    background-color: #1f1f1f;
    border: 1px solid #444;
    color: #fff;
  }

  #auto-complete {
    background-color: #1f1f1f;
    border: 1px solid #444;
    color: #fff;
  }

  .auto-complete-list {
    background-color: #1f1f1f;
    border: 1px solid #444;

    .auto-complete-list-item {
      background-color: #1f1f1f;
      border-bottom: 1px solid #444;
      color: #fff;

      &:hover {
        background-color: #333;
      }
    }

    .auto-complete-list-item[aria-selected="true"] {
      background-color: #333;
    }
  }

  .endpoint-path {
    color: #ccc;
  }

  .endpoint-summary {
    color: #888;
  }
}</style>
  <style>.elements-api {
  > div {
    height: 100vh !important;
  }
}

[data-theme=dark] {
  .sl-code-highlight {
    .token {
      color: #fff !important;
    }
  }
  .sl-elements-api {
    background-color: var(--color-canvas-pure);
  }
}

.method-get {
  background-color: #05b870;
}

.method-post {
  background-color: #19abff;
}

.method-put {
  background-color: #f46d2a;
}

.method-patch {
  background-color: #f46d2a;
}

.method-delete {
  background-color: #f05151;
}

.method-head {
  background-color: rgb(144, 97, 249);
}

.method-options {
  background-color: rgb(13, 90, 167);
}

.method-trace {
  background-color: rgb(13, 11, 40);
}</style>
  <script>window.apiDocs = {"openapi":"3.0.0","info": {"title":"Find Roommate API","description":"Find Roommate is a platform for you to find a roommate, mainly to share the lodging's rent because who can afford rent alone in this economy?","version":"1.0.0"},"servers": [{"url":"http://{{baseurl}}"}],"components": {"securitySchemes": {"bearerAuth": {"type":"http","scheme":"bearer"}}},"paths": {"/login": {"post": {"tags": ["default"],"summary":"login","requestBody": {"content": {"multipart/form-data": {"schema": {"type":"object","properties": {"phone": {"type":"string","description":"(Required)\n(Must match regex \"^08[1-9]{1}\\d{1}-{1}\\d{4}-\\d{2,5}$\" )","example":"<string>"},"password": {"type":"string","description":"(Required)","example":"<string>"}}}}}},"parameters": [{"name":"Accept","in":"header","schema": {"type":"string"},"example":"application/json"}],"responses": {"200": {"description":"OK","headers": {"Host": {"schema": {"type":"number","example":"127.0.0.1:8000"}},"Connection": {"schema": {"type":"string","example":"close"}},"X-Powered-By": {"schema": {"type":"number","example":"PHP/8.3.13"}},"Cache-Control": {"schema": {"type":"string","example":"no-cache, private"}},"Date": {"schema": {"type":"string","example":"Wed, 03 Dec 2025 00:43:42 GMT"}},"Content-Type": {"schema": {"type":"string","example":"application/json"}},"Access-Control-Allow-Origin": {"schema": {"type":"string","example":"*"}}},"content": {"application/json": {"schema": {"type":"object"},"example": {"user": {"id": 2,"name":"Ahmad Asyami","created_at":"2025-11-30T11:47:35.000000Z","updated_at":"2025-11-30T11:47:35.000000Z","phone":"0812-2332-1299","gender":"male","birthdate":"2025-06-12","address":"Duren, Jatiroto","bio":"Saya seniman yang fokus di karya digital ilustrasi.","profile_photo":"profile_pics/N5ksiCoy3GEsnX1ndQlPDFs7gr9uccFJBM8cE9TL.jpg"},"token":"1|yU1KFcUGdIcOcktzQww1WwlLAYbrGa2BIxOn5Jenec0b69fc"}}}},"401": {"description":"Unauthorized","headers": {"Host": {"schema": {"type":"number","example":"127.0.0.1:8000"}},"Connection": {"schema": {"type":"string","example":"close"}},"X-Powered-By": {"schema": {"type":"number","example":"PHP/8.3.13"}},"Cache-Control": {"schema": {"type":"string","example":"no-cache, private"}},"Date": {"schema": {"type":"string","example":"Wed, 03 Dec 2025 00:42:53 GMT"}},"Content-Type": {"schema": {"type":"string","example":"application/json"}},"Access-Control-Allow-Origin": {"schema": {"type":"string","example":"*"}}},"content": {"application/json": {"schema": {"type":"object"},"example": {"message":"The credentials do not match our record"}}}},"422": {"description":"Unprocessable Content","headers": {"Host": {"schema": {"type":"number","example":"127.0.0.1:8000"}},"Connection": {"schema": {"type":"string","example":"close"}},"X-Powered-By": {"schema": {"type":"number","example":"PHP/8.3.13"}},"Cache-Control": {"schema": {"type":"string","example":"no-cache, private"}},"Date": {"schema": {"type":"string","example":"Wed, 03 Dec 2025 00:38:26 GMT"}},"Content-Type": {"schema": {"type":"string","example":"application/json"}},"Access-Control-Allow-Origin": {"schema": {"type":"string","example":"*"}}},"content": {"application/json": {"schema": {"type":"object"},"example": {"message":"The phone field is required. (and 1 more error)","errors": {"phone": ["The phone field is required."],"password": ["The password field is required."]}}}}}}}},"/logout": {"post": {"tags": ["default"],"summary":"logout","requestBody": {"content": {}},"security": [{"bearerAuth": []}],"parameters": [{"name":"Accept","in":"header","schema": {"type":"string"},"example":"application/json"}],"responses": {"200": {"description":"OK","headers": {"Date": {"schema": {"type":"string","example":"Sun, 14 Dec 2025 11:01:41 GMT"}},"Server": {"schema": {"type":"number","example":"Apache/2.4.54 (Win64) OpenSSL/1.1.1q mod_fcgid/2.3.10-dev"}},"X-Powered-By": {"schema": {"type":"number","example":"PHP/8.3.13"}},"Cache-Control": {"schema": {"type":"string","example":"no-cache, private"}},"Access-Control-Allow-Origin": {"schema": {"type":"string","example":"*"}},"Vary": {"schema": {"type":"string","example":"Authorization"}},"Keep-Alive": {"schema": {"type":"string","example":"timeout=5, max=100"}},"Connection": {"schema": {"type":"string","example":"Keep-Alive"}},"Transfer-Encoding": {"schema": {"type":"string","example":"chunked"}},"Content-Type": {"schema": {"type":"string","example":"application/json"}}},"content": {"application/json": {"schema": {"type":"object"},"example": {"message":"Logout successful"}}}},"401": {"description":"Unauthorized","headers": {"Host": {"schema": {"type":"number","example":"127.0.0.1:8000"}},"Connection": {"schema": {"type":"string","example":"close"}},"X-Powered-By": {"schema": {"type":"number","example":"PHP/8.3.13"}},"Cache-Control": {"schema": {"type":"string","example":"no-cache, private"}},"Date": {"schema": {"type":"string","example":"Wed, 03 Dec 2025 00:45:37 GMT"}},"Content-Type": {"schema": {"type":"string","example":"application/json"}},"Access-Control-Allow-Origin": {"schema": {"type":"string","example":"*"}}},"content": {"application/json": {"schema": {"type":"object"},"example": {"message":"Unauthenticated."}}}}}}},"/signup": {"post": {"tags": ["default"],"summary":"signup","requestBody": {"content": {"multipart/form-data": {"schema": {"type":"object","properties": {"name": {"type":"string","description":"(Required)","example":"<string>"},"phone": {"type":"string","description":"(Required)\n(Must match regex \"^08[1-9]{1}\\d{1}-{1}\\d{4}-\\d{2,5}$\" )","example":"<string>"},"password": {"type":"string","description":"(Required) ","example":"<string>"},"birthdate": {"type":"string","description":"(Required) \n(Year-Month-Date)\n(Must be past date)","example":"<string>"},"gender": {"type":"string","description":"(Required) \n(Must be \"male\" or \"female\")","example":"<string>"},"address": {"type":"string","description":"(Required) ","example":"<string>"},"bio": {"type":"string","description":"(Required) ","example":"<string>"},"profile_photo": {"type":"string","description":"(Required) \n(Image)","format":"binary"}}}}}},"parameters": [{"name":"Content-Type","in":"header","schema": {"type":"string"},"example":"multipart/form-data"},{"name":"Accept","in":"header","schema": {"type":"string"},"example":"application/json"}],"responses": {"200": {"description":"OK","headers": {"Host": {"schema": {"type":"number","example":"127.0.0.1:8000"}},"Connection": {"schema": {"type":"string","example":"close"}},"X-Powered-By": {"schema": {"type":"number","example":"PHP/8.3.13"}},"Cache-Control": {"schema": {"type":"string","example":"no-cache, private"}},"Date": {"schema": {"type":"string","example":"Sun, 30 Nov 2025 11:47:35 GMT"}},"Content-Type": {"schema": {"type":"string","example":"application/json"}},"Access-Control-Allow-Origin": {"schema": {"type":"string","example":"*"}}},"content": {"application/json": {"schema": {"type":"object"},"examples": {"example-0": {"summary":"Successful","value": {"user": {"name":"Ahmad Asyami","phone":"0812-2332-1299","birthdate":"2025-06-12","gender":"male","address":"Duren, Jatiroto","bio":"Saya seniman yang fokus di karya digital ilustrasi.","profile_photo":"profile_pics/N5ksiCoy3GEsnX1ndQlPDFs7gr9uccFJBM8cE9TL.jpg","updated_at":"2025-11-30T11:47:35.000000Z","created_at":"2025-11-30T11:47:35.000000Z","id": 2}}},"example-1": {"summary":"Successful, but image storage failed","value": {"user": {"name":"Ahmad Asyami","phone":"0812-2332-1299","birthdate":"2025-06-12","gender":"male","address":"Duren, Jatiroto","bio":"Saya seniman yang fokus di karya digital ilustrasi.","profile_photo": null,"updated_at":"2025-11-30T11:47:35.000000Z","created_at":"2025-11-30T11:47:35.000000Z","id": 2},"message":"Signup successful, but image storage failed. You can try again in the profile menu"}}}}}},"422": {"description":"Unprocessable Entity (WebDAV) (RFC 4918)","headers": {"Content-Type": {"schema": {"type":"string","example":"application/json"}}},"content": {"application/json": {"schema": {"type":"object"},"example": {"message":"The name field is required. (and 7 more errors)","errors": {"name": ["The name field is required."],"phone": ["The phone field is required."],"password": ["The password field is required."],"birthdate": ["The birthdate field is required."],"gender": ["The gender field is required."],"address": ["The address field is required."],"bio": ["The bio field is required."],"profile_photo": ["The profile photo field is required."]}}}}}}}},"/match/profiles": {"get": {"tags": ["default"],"summary":"match profiles recommendation","security": [{"bearerAuth": []}],"parameters": [{"name":"Accept","in":"header","schema": {"type":"string"},"example":"application/json"},{"name":"gender","in":"query","schema": {"type":"string"},"description":"(Required)\n(male/female)","example":"<string>"},{"name":"min_age","in":"query","schema": {"type":"string"},"description":"(Required)\n(Integer)\n(>=17)","example":"<integer>"},{"name":"max_age","in":"query","schema": {"type":"string"},"description":"(Required)\n(Integer)\n(>=min_age)","example":"<integer>"},{"name":"lodging_id","in":"query","schema": {"type":"string"},"description":"(Required)\n(Correspond to existing Lodging's id)","example":"<integer>"},{"name":"bio","in":"query","schema": {"type":"string"},"description":"(Required)","example":"<string>"}],"responses": {"200": {"description":"OK","headers": {"Date": {"schema": {"type":"string","example":"Sun, 14 Dec 2025 10:43:46 GMT"}},"Server": {"schema": {"type":"number","example":"Apache/2.4.54 (Win64) OpenSSL/1.1.1q mod_fcgid/2.3.10-dev"}},"X-Powered-By": {"schema": {"type":"number","example":"PHP/8.3.13"}},"Cache-Control": {"schema": {"type":"string","example":"no-cache, private"}},"Access-Control-Allow-Origin": {"schema": {"type":"string","example":"*"}},"Vary": {"schema": {"type":"string","example":"Authorization"}},"Keep-Alive": {"schema": {"type":"string","example":"timeout=5, max=100"}},"Connection": {"schema": {"type":"string","example":"Keep-Alive"}},"Transfer-Encoding": {"schema": {"type":"string","example":"chunked"}},"Content-Type": {"schema": {"type":"string","example":"application/json"}}},"content": {"application/json": {"schema": {"type":"object"},"examples": {"example-0": {"summary":"No Matching Profiles","value": {"matching_profiles": []}},"example-1": {"summary":"Successful","value": {"matching_profiles": [{"id": 2,"customer_profile_id": 24,"lodging_id": 1,"created_at":"2025-12-14T10:57:00.000000Z","updated_at":"2025-12-14T10:57:00.000000Z","customer_profile": {"id": 24,"full_name":"Elenora Klein","gender":"male","birthdate":"1999-07-03","address":"512 O'Conner Flat Apt. 922\nPort Wilma, MA 83120-0502","bio":"The Hatter was out of his teacup and bread-and-butter, and then hurried on, Alice started to her that she had looked under it, and kept doubling itself up very sulkily and crossed over to herself.","profile_photo": null,"created_at":"2025-12-14T10:57:00.000000Z","updated_at":"2025-12-14T10:57:00.000000Z"},"lodging": {"id": 1,"name":"Baumbach's Lodging","latitude": -57.675973,"longitude": 101.849931,"created_at":"2025-12-14T08:31:01.000000Z","updated_at":"2025-12-14T08:31:01.000000Z"}},{"id": 9,"customer_profile_id": 31,"lodging_id": 1,"created_at":"2025-12-14T10:57:00.000000Z","updated_at":"2025-12-14T10:57:00.000000Z","customer_profile": {"id": 31,"full_name":"Mr. Evie Emmerich DVM","gender":"male","birthdate":"1983-10-24","address":"47277 Edna Via Apt. 724\nEast Inesmouth, MI 66387","bio":"And concluded the banquet--] 'What IS the use of a well--' 'What did they live at the bottom of a water-well,' said the Gryphon. 'Then, you know,' said the Hatter. 'He won't stand beating. Now, if.","profile_photo": null,"created_at":"2025-12-14T10:57:00.000000Z","updated_at":"2025-12-14T10:57:00.000000Z"},"lodging": {"id": 1,"name":"Baumbach's Lodging","latitude": -57.675973,"longitude": 101.849931,"created_at":"2025-12-14T08:31:01.000000Z","updated_at":"2025-12-14T08:31:01.000000Z"}}]}}}}}},"401": {"description":"Unauthorized","headers": {"Date": {"schema": {"type":"string","example":"Sun, 14 Dec 2025 08:39:27 GMT"}},"Server": {"schema": {"type":"number","example":"Apache/2.4.54 (Win64) OpenSSL/1.1.1q mod_fcgid/2.3.10-dev"}},"X-Powered-By": {"schema": {"type":"number","example":"PHP/8.3.13"}},"Cache-Control": {"schema": {"type":"string","example":"no-cache, private"}},"Access-Control-Allow-Origin": {"schema": {"type":"string","example":"*"}},"Vary": {"schema": {"type":"string","example":"Authorization"}},"Keep-Alive": {"schema": {"type":"string","example":"timeout=5, max=100"}},"Connection": {"schema": {"type":"string","example":"Keep-Alive"}},"Transfer-Encoding": {"schema": {"type":"string","example":"chunked"}},"Content-Type": {"schema": {"type":"string","example":"application/json"}}},"content": {"application/json": {"schema": {"type":"object"},"example": {"message":"Unauthenticated."}}}},"422": {"description":"Unprocessable Content","headers": {"Date": {"schema": {"type":"string","example":"Sun, 14 Dec 2025 10:45:08 GMT"}},"Server": {"schema": {"type":"number","example":"Apache/2.4.54 (Win64) OpenSSL/1.1.1q mod_fcgid/2.3.10-dev"}},"X-Powered-By": {"schema": {"type":"number","example":"PHP/8.3.13"}},"Cache-Control": {"schema": {"type":"string","example":"no-cache, private"}},"Access-Control-Allow-Origin": {"schema": {"type":"string","example":"*"}},"Vary": {"schema": {"type":"string","example":"Authorization"}},"Keep-Alive": {"schema": {"type":"string","example":"timeout=5, max=99"}},"Connection": {"schema": {"type":"string","example":"Keep-Alive"}},"Transfer-Encoding": {"schema": {"type":"string","example":"chunked"}},"Content-Type": {"schema": {"type":"string","example":"application/json"}}},"content": {"application/json": {"schema": {"type":"object"},"example": {"message":"The gender must be either male or female (and 4 more errors)","errors": {"gender": ["The gender must be either male or female"],"min_age": ["The min age field must be at least 17."],"max_age": ["The max age field must be greater than or equal to 15."],"lodging_id": ["The selected lodging id is invalid."],"bio": ["The bio field is required."]}}}}}}}}}}</script>
</head>
<body>
  <button id="search-button">
    <span class="icon material-symbols-outlined">search</span>
    <span class="text"></span>
  </button>
  <dialog id="search-dialog">
    <input id="auto-complete" autocomplete="off">
  </dialog>
  <elements-api router="hash" class="elements-api"></elements-api>
  <script>// eslint-disable-next-line no-unused-vars
class SearchDialog {
  dialog
  autocomplete

  constructor(dialogId, inputId, openapi) {
    this.dialog = document.getElementById(dialogId)
    if (!this.dialog) {
      throw new Error(`Dialog with id "${dialogId}" not found`)
    }

    this.autocomplete = new autoComplete({
      selector: `#${inputId}`,
      placeHolder: 'Search endpoints',
      data: {
        src: this.filterEndpoints(openapi),
        keys: ['searchKey'],
      },
      searchEngine: 'loose',
      threshold: 0,
      resultsList: {
        maxResults: undefined,
        class: 'auto-complete-list',
        element: (list, data) => {
          if (data.results.length > 0) {
            list.innerHTML = ''
            data.results.forEach((item) => {
              const li = document.createElement('li')
              li.className = 'auto-complete-list-item'
              li.innerHTML = `
              <div class="method-tag method-${item.value.method.toLowerCase()}">${item.value.method}</div>
              <div class="endpoint-info">
                <div class="endpoint-path">${item.value.path}</div>
                <div class="endpoint-summary">${item.value.summary}</div>
              </div>
            `
              list.appendChild(li)
            })
          }
        },
      },
    })

    this.dialog.addEventListener('click', (event) => {
      if (event.target === this.dialog) {
        this.hide()
      }
    })
  }

  on(event, callback) {
    if (event === 'select') {
      this.autocomplete.input.addEventListener('selection', (event) => {
        callback(event.detail.selection.value)
      })
    } else {
      throw new Error(`Unsupported event: ${event}`)
    }
  }

  show() {
    this.autocomplete.input.value = ''
    this.autocomplete.start()
    this.dialog.showModal()
  }

  hide() {
    this.dialog.close()
  }

  filterEndpoints(openapi) {
    const endpoints = []
    const paths = openapi.paths
    for (const path in paths) {
      const methods = Object.keys(paths[path])
      for (const method of methods) {
        if (method === 'parameters') {
          continue
        }
        const summary = paths[path][method].summary || ''
        endpoints.push({
          searchKey: `${method} ${path} ${summary}`,
          method: method.toUpperCase(),
          path,
          operationId: paths[path][method].operationId,
          tag: paths[path][method].tags
            ? paths[path][method].tags[0]
            : 'default',
          summary,
        })
      }
    }
    return endpoints
  }
}
</script>
  <script>const THEMES = ['light', 'dark']
const themeParam = new URLSearchParams(window.location.search).get('theme')
if (THEMES.includes(themeParam)) {
  document.documentElement.setAttribute('data-theme', themeParam)
}

// ref. https://developer.mozilla.org/en-US/docs/Web/API/Navigator/platform#examples
const modifierKeyPrefix =
  navigator.platform.startsWith('Mac') || navigator.platform === 'iPhone'
    ? '⌘' // command key
    : '^' // control key

/* ref. https://github.com/stoplightio/elements/blob/main/docs/getting-started/elements/html.md#examples */
;(async () => {
  const docs = document.querySelector('.elements-api')
  docs.apiDescriptionDocument = window.apiDocs

  const searchButton = document.querySelector('#search-button')
  searchButton.addEventListener('click', () => searchDialog.show())
  searchButton.querySelector('.text').textContent =
    `Search ${modifierKeyPrefix}+K`

  // eslint-disable-next-line no-undef
  const searchDialog = new SearchDialog(
    'search-dialog',
    'auto-complete',
    window.apiDocs,
  )
  searchDialog.on('select', (selection) => {
    const operationId = selection.operationId
    const url = new URL(location.href)
    url.hash = `#/operations/${operationId}`
    location.href = url.toString()
    searchDialog.hide()
  })

  document.addEventListener('keydown', function (e) {
    const isCmdOrCtrl = modifierKeyPrefix === '⌘' ? e.metaKey : e.ctrlKey
    if (isCmdOrCtrl && e.key.toLowerCase() === 'k') {
      searchDialog.show()
      e.preventDefault()
    }
  })
})()
</script>
</body>
</html>
